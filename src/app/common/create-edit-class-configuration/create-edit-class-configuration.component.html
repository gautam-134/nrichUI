<div class="card card-custom gutter-b">
    <div class="card-header bg-primary">
      <div class="card-title">
        <h3 class="card-label text-white" style="margin-bottom: -1%">
          Schedule Class
        </h3>
      </div>
    </div>
    <div class="card-body">
      <form class="form" id="kt_form" [formGroup]="form">
        <div class="row">
          <div class="col-md-4">
            <div class="form-group">
              <label class="form-label"
                >{{ this.data.isEdit ? 'Class Name' : 'Class Schedule Name' }}<span class="text-danger">*</span></label
              >
              <input
                type="text"
                class="form-control"
                placeholder="Class Title"
                formControlName="classTitle"
              />
              <ng-container *ngIf="isSubmit && f['classTitle'].invalid">
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['classTitle']?.errors?.['required']"
                  >
                    Above field is required.
                  </div>
                </div>
              </ng-container>
              <ng-container
                *ngIf="f['classTitle'].invalid && f['classTitle'].value"
              >
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['classTitle'].errors?.['validateCharctersInput']"
                  >
                  {{ this.data.isEdit ? 'Class Name' : 'Class Schedule Name' }} must not contain more than 28 characters.
                  </div>
                  <div
                    class="alert-text"
                    *ngIf="f['classTitle'].errors?.['validateInputWords']"
                  >
                  {{ this.data.isEdit ? 'Class Name' : 'Class Schedule Name' }} must not contain more than 5 words.
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
  
          <div class="col-md-4">
            <div class="form-group">
              <label class="form-label"
                >Class Type<span class="text-danger">*</span></label
              >
              <select class="form-control" formControlName="classType">
                <option value="">Select Class Type</option>
                <option value="Regular">Regular</option>
                <option value="Demo">Demo</option>
                <option value="Webinar">Webinar</option>
              </select>
              <ng-container *ngIf="isSubmit && f['classType'].invalid">
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['classType']?.errors?.['required']"
                  >
                    Above field is required.
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label class="form-label"
                >Start Date<span class="text-danger">*</span></label
              >
              <input
                type="date"
                [min]="now"
                class="form-control"
                placeholder=""
                formControlName="start"
              />
              <ng-container *ngIf="isSubmit && f['start'].invalid">
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['start']?.errors?.['required']"
                  >
                    Above field is required.
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
  
          <div class="col-md-4">
            <div class="form-group">
              <label>Start Time<span class="text-danger">*</span></label>
              <input
                type="time"
                formControlName="starttime"
                class="form-control"
                id="exampleInputtime"
              />
              <ng-container *ngIf="isSubmit && f['starttime'].invalid">
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['starttime']?.errors?.['required']"
                  >
                    Above field is required.
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label>End Time<span class="text-danger">*</span></label>
              <input
                type="time"
                formControlName="endtime"
                class="form-control"
                id="exampleInputtime"
              />
              <ng-container *ngIf="isSubmit && f['endtime'].invalid">
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['endtime']?.errors?.['required']"
                  >
                    Above field is required.
                  </div>
                </div>
              </ng-container>
              <div style="margin-top: 1%">
                <h6 style="color: red">{{ timeCompareMsg }}</h6>
              </div>
            </div>
          </div>
  
          <div class="col-md-12">
            <label> {{ this.data.isEdit ? 'Class' : 'Class Schedule' }} Searchable Tags<span class="text-danger">*</span></label>
            <tag-input
              [(ngModel)]="new"
              placeholder="Meta Tags"
              formControlName="metaTags"
            ></tag-input>
            <mat-hint> Hint:- Write a word & Press ENTER to add a Tag. </mat-hint>
            <div *ngIf="isSubmit && f['metaTags'].invalid">
              <div *ngIf="f['metaTags'].errors?.['required']" class="text-danger">
                {{ this.data.isEdit ? 'Class' : 'Class Schedule' }} Searchable Tags are required
              </div>
            </div>
          </div>
          <div class="col-md-12">
            <div class="form-group">
              <label>{{ this.data.isEdit ? 'Class' : 'Class Schedule' }} Details<span class="text-danger">*</span></label>
              <textarea
                class="form-control"
                placeholder="{{ this.data.isEdit ? 'Class' : 'Class Schedule' }} Details"
                formControlName="classDescription"
              ></textarea>
              <ng-container *ngIf="isSubmit && f['classDescription'].invalid">
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['classDescription']?.errors?.['required']"
                  >
                    Above field is required.
                  </div>
                </div>
              </ng-container>
              <ng-container
                *ngIf="
                  f['classDescription'].invalid && f['classDescription'].value
                "
              >
                <div class="text-danger">
                  <div
                    class="alert-text"
                    *ngIf="f['classDescription'].errors?.['validateDetailsCharctersInput']"
                  >
                  Class Schedule Details must not contain more than 151 characters.
                  </div>
                  <div
                    class="alert-text"
                    *ngIf="f['classDescription'].errors?.['validateDetailsInputWords']"
                  >
                  Class Schedule Details must not contain more than 25 words.
                  </div>
                </div>
              </ng-container>
            </div>
          </div>
  
          <div class="form-check d-block" *ngIf="data.from">
            <input
              class="form-check-input"
              color="primary"
              type="checkbox"
              formControlName="repeatMeeting"
              id="flexCheckDefault3"
            />
            <label class="form-check-label" for="flexCheckDefault3">
              Repeat class
            </label>
          </div>
          <div class="row mt-3" *ngIf="f['repeatMeeting'].value">
            <div class="col-md-6">
              <div class="form-check">
                <input
                  class="form-check-input"
                  formControlName="endMeetingRadioInput"
                  [value]="false"
                  type="radio"
                  id="flexRadioDefault2"
                />
                <label class="form-check-label" for="flexRadioDefault2">
                  End By Date
                </label>
              </div>
              &nbsp;
              <div class="form-check">
                <input
                  class="form-check-input"
                  formControlName="endMeetingRadioInput"
                  [value]="true"
                  type="radio"
                  id="flexRadioDefault1"
                />
                <label class="form-check-label" for="flexRadioDefault1">
                  End by Number of Sessions
                </label>
              </div>
            </div>
            <div class="col-md-6"></div>
  
            <div class="col-md-6 mt-3">
              <div>
                <section>
                  <div
                    class="form-check form-check-inline"
                    *ngFor="let day of days; let i = index"
                  >
                    <input
                      class="form-check-input"
                      #ref
                      [checked]="classSchduleDays.includes(i + 1)"
                      (change)="addDaysInList(ref.value)"
                      type="checkbox"
                      value="option1"
                      [value]="i + 1"
                    />
                    <label class="form-check-label" for="inlineCheckbox1">{{
                      day
                    }}</label>
                  </div>
                </section>
              </div>
            </div>
            <div class="col-md-6 mt-3">
              <div *ngIf="f['endMeetingRadioInput'].value == true">
                <div class="form-group">
                  <label>Number of Weeks<span class="text-danger">*</span></label>
                  <input
                    type="text"
                    (keypress)="numberOnly($event)"
                    class="form-control"
                    (input)="calculateDate(noOfOcc.value)"
                    id="exampleInputdate"
                    #noOfOcc
                    formControlName="noOfOccurence"
                  />
  
                  <ng-container *ngIf="isSubmit && f['noOfOccurence'].invalid">
                    <div class="text-danger">
                      <div
                        class="alert-text"
                        *ngIf="f['noOfOccurence']?.errors?.['required']"
                      >
                        Above field is Required
                      </div>
                    </div>
                  </ng-container>
                  <p>{{ f["meetingEndDate"].value | date : "MM/dd/yyyy" }}</p>
                </div>
              </div>
  
              <div *ngIf="f['endMeetingRadioInput'].value == false">
                <div class="form-group">
                  <label
                    >Class Schedule End Date<span class="text-danger">*</span></label
                  >
                  <input
                    type="date"
                    class="form-control"
                    id="exampleInputdate3"
                    formControlName="meetingEndDate"
                  />
                  <ng-container *ngIf="isSubmit && f['meetingEndDate'].invalid">
                    <div class="text-danger">
                      <div
                        class="alert-text"
                        *ngIf="f['meetingEndDate']?.errors?.['required']"
                      >
                      Class Schedule End Date required.
                      </div>
                    </div>
                  </ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <!-- <div class="card-footer">
      <button type="reset" *ngIf="!data.isEdit" class="btn btn-primary"
        style="margin-right: 15px; background-color: #007ef2; width: 120px" (click)="onSubmit()">
        Save
      </button>
      <button type="reset" *ngIf="data.isEdit" class="btn btn-primary"
        style="margin-right: 15px; background-color: #007ef2; width: 120px" (click)="onEdit()">
        Save
      </button>
      <button type="reset" class="btn btn-outline-primary ms-2" style="width: 120px" mat-button mat-dialog-close>
        Cancel
      </button>
    </div> -->
    <!-- <div class="card-footer">
      <div class="row">
        <div class="col-md-6 col-12">
          <button type="reset" *ngIf="!data.isEdit" class="btn btn-primary"
            style="margin-right: 15px; background-color: #007ef2; width: 100%" (click)="onSubmit()">
            Save
          </button>
          <button type="reset" *ngIf="data.isEdit" class="btn btn-primary"
            style="margin-right: 15px; background-color: #007ef2; width: 100%" (click)="onEdit()">
            Save
          </button>
        </div>
        <div class="col-md-6 col-12 mt-2 mt-md-0">
          <button type="reset" class="btn btn-outline-primary" style="width: 100%" mat-button mat-dialog-close>
            Cancel
          </button>
        </div>
      </div>
    </div> -->
    <div class="card-footer">
      <div class="d-flex">
        <button
          type="reset"
          *ngIf="!data.isEdit"
          class="btn btn-primary"
          style="margin-right: 15px; background-color: #007ef2"
          (click)="onSubmit()"
        >
          Save
        </button>
        <button
          type="reset"
          *ngIf="data.isEdit"
          class="btn btn-primary"
          style="margin-right: 15px; background-color: #007ef2"
          (click)="onEdit()"
        >
          Save
        </button>
        <button
          type="reset"
          class="btn btn-outline-primary"
          mat-button
          mat-dialog-close
        >
          Cancel
        </button>
      </div>
    </div>
  </div>
  